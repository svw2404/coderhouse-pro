{% extends "control_estudios/base.html" %}

{% block contenido %}
<section>
  <div>
    <h1>Lista de cursos</h1>
    
    <br><br>
    <form action="{% url 'buscar_cursos' %}" method="post">
      {% csrf_token %}
      <input type="text" name="busqueda">
      <input type="submit" value="Buscar por comision">
    </form>
    <br>
    <form action="{% url 'eliminar_cursos' %}" method="post">
        {% csrf_token %}
        <ul>
          {% for curso in cursos %}
          <li>
            <input type="checkbox" id="{{ curso.id }}" name="cursos" value="{{ curso.id }}">
            <label for="{{ curso.id }}">{{ curso.nombre }}, {{ curso.comision }}</label>
          </li>
          {% endfor %}
        </ul>
        <input type="submit" name="eliminar_cursos" value="Eliminar cursos seleccionados">
    </form>
    
    {% if 'eliminar_cursos' in request.POST %}
        {% with selected_cursos=request.POST.getlist('cursos') %}
            <ul>
            {% for curso_id in selected_cursos %}
            <li>{{ curso_id }}</li>
            {% endfor %}
            </ul>
        {% endwith %}
    {% endif %}
        
        
  </div>
</section>
{% endblock contenido %}
